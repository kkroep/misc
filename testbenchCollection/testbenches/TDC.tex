\subsection*{Time to Digital Converter (TDC)}


\begin{figure}[H]
\centering
\tikzstyle{dot} = [draw,shape=circle,fill=black, scale =.3]
\begin{tikzpicture}

% DFF Block
\draw  (-1.5,1) rectangle (0,-0.5);
\draw (-1.5,-0.125) to (-1.25,-0.25) to (-1.5,-0.375);
\node at (-1.25,0.75) {$D$};
\node at (-0.25,0.25) {$Q$};

% DFF Block
\draw  (0.75,1) rectangle (2.25,-0.5);
\draw (0.75,-0.125) to (1,-0.25) to (0.75,-0.375);
\node at (1,0.75) {$D$};
\node at (2,0.25) {$Q$};

% DFF Block
\draw  (3,1) rectangle (4.5,-0.5);
\draw (3,-0.125) to (3.25,-0.25) to (3,-0.375);
\node at (3.25,0.75) {$D$};
\node at (4.25,0.25) {$Q$};

% buffer gate
\draw (0,0) node [buffer, scale=.75] (buf1) at (-0.75,1.75) {};
\draw (buf1.in) -- (-2,1.75);
\draw (-1.75,1.75)|-(-1.5,0.75);
\node [dot] at (-1.75,1.75) {};

% buffer gate
\draw (0,0) node [buffer, scale=.75] (buf2) at (1.5,1.75) {};
\draw (buf2.in) -- (buf1.out);
\draw (0.5,1.75)|-(0.75,0.75);
\node [dot] at (0.5,1.75) {};

% buffer gate
\draw (0,0) node [buffer, scale=.75] (buf3) at (3.75,1.75) {};
\draw (buf3.in) -- (buf2.out);
\draw (buf3.out) -- (5,1.75);
\draw (2.75,1.75)|-(3,0.75);
\node [dot] at (2.75,1.75) {};

%ref(t)
\draw (-2,-1) -- (5,-1);
\draw (-1.75,-1)|-(-1.5,-0.25);
\node [dot] at (-1.75,-1) {};
\draw (0.5,-1)|-(0.75,-0.25);
\node [dot] at (0.5,-1) {};
\draw (2.75,-1)|-(3,-0.25);
\node [dot] at (2.75,-1) {};

%error
\draw (0,0.25) -| (0.25,-1.25) -| (4.5,-1.5);
\draw (2.25,0.25) -| (2.5,-1.375) -| (4.65,-1.5);
\draw (4.5,0.25) -| (4.75,-1.5);
\draw  (4,-1.5) rectangle (5.25,-2) node[pos=.5]{adder};
\draw (4.625,-2) -- (4.625,-2.25);

% labels
\node [anchor=east] at (-2,1.75) {div$(t)$};
\node [anchor=east] at (-2,-1) {ref$(t)$};
\node [anchor=north] at (4.625,-2.25) {err$(t)$};
\end{tikzpicture}
\caption{TDC}
\label{tkz:TDC}
\end{figure}